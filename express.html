<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body { background-color: #F8FAFC; -webkit-tap-highlight-color: transparent; }
    .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo, useEffect } = React;

    // üö® ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL ‡∏Ç‡∏≠‡∏á Google Apps Script
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbwyKSoMq5kvIRX0Oqo_4BTuI8WJH7zjOvrOugG0hSHsB8wfiBKKciNTQs3XJOusSwtNwQ/exec'; 

    // --- Icons ---
    const Icon = ({ path, size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} dangerouslySetInnerHTML={{ __html: path }} />
    );
    const Printer = (p) => <Icon {...p} path='<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>' />;
    const Truck = (p) => <Icon {...p} path='<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>' />;
    const XCircle = (p) => <Icon {...p} path='<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>' />;
    const RotateCcw = (p) => <Icon {...p} path='<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>' />;
    const ClipboardCheck = (p) => <Icon {...p} path='<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><polyline points="9 14 12 17 16 10"></polyline>' />;
    const Save = (p) => <Icon {...p} path='<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>' />;
    const LayoutDashboard = (p) => <Icon {...p} path='<rect x="3" y="3" width="7" height="9"></rect><rect x="14" y="3" width="7" height="5"></rect><rect x="14" y="12" width="7" height="9"></rect><rect x="3" y="16" width="7" height="5"></rect>' />;
    const PackageIcon = (p) => <Icon {...p} path='<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>' />;
    const Calendar = (p) => <Icon {...p} path='<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>' />;
    const CheckCircle2 = (p) => <Icon {...p} path='<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>' />;
    const UploadCloud = (p) => <Icon {...p} path='<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>' />;
    const ImageIcon = (p) => <Icon {...p} path='<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>' />;
    const Loader2 = (p) => <Icon {...p} className={`animate-spin ${p.className||''}`} path='<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>' />;
    const X = (p) => <Icon {...p} path='<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>' />;
    const Plus = (p) => <Icon {...p} path='<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>' />;
    const ChevronDown = (p) => <Icon {...p} path='<polyline points="6 9 12 15 18 9"></polyline>' />;
    const Trash2 = (p) => <Icon {...p} path='<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>' />;
    const HistoryIcon = (p) => <Icon {...p} path='<path d="M3 3v5h5"></path><path d="M3.05 13A9 9 0 1 0 6 5.3L3 8"></path><polyline points="12 7 12 12 15 15"></polyline>' />;
    const ExternalLink = (p) => <Icon {...p} path='<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>' />;

    const CARRIERS = ['SPX', 'J&T', 'FLASH', 'TLP'];
    const TYPES = {
      'SPX': ['Pick-Up', '‡πÑ‡∏õ‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏á', '‡∏™‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô!!'],
      'J&T': ['Pick-Up', '‡πÑ‡∏õ‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏á', '‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå'],
      'FLASH': ['Standard'],
      'TLP': ['Standard']
    };

    function App() {
      const [activeTab, setActiveTab] = useState('print'); // 'print', 'ship', 'jtsum', 'history', 'dashboard'
      
      // Load records from localStorage to persist data
      const [records, setRecords] = useState(() => {
        const saved = localStorage.getItem('dailyLogs_v3');
        return saved ? JSON.parse(saved) : [];
      });

      useEffect(() => {
        localStorage.setItem('dailyLogs_v3', JSON.stringify(records));
      }, [records]);

      const [isSubmitting, setIsSubmitting] = useState(false);
      const [showSuccess, setShowSuccess] = useState(false);
      
      const [date, setDate] = useState(new Date().toISOString().split('T')[0]);
      
      // Forms State
      const [printed, setPrinted] = useState({ SPX: '', JT: '', FLASH: '', TLP: '' });
      const [entries, setEntries] = useState([{ id: Date.now(), carrier: 'SPX', type: 'Pick-Up', shipped: '', cancelled: '', returned: '', imageContent: '', imageMimeType: '', imageFileName: '', imagePreview: null }]);
      const [jtSummary, setJtSummary] = useState('');

      // --- Actions ---
      const handlePrintChange = (c, v) => setPrinted(p => ({ ...p, [c]: v }));
      
      const addEntry = () => setEntries([...entries, { id: Date.now(), carrier: 'SPX', type: 'Pick-Up', shipped: '', cancelled: '', returned: '', imageContent: '', imageMimeType: '', imageFileName: '', imagePreview: null }]);
      
      const removeEntry = (id) => {
        if (entries.length > 1) setEntries(entries.filter(e => e.id !== id));
        else alert('‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£');
      };

      const updateEntry = (id, field, value) => {
        setEntries(entries.map(e => {
          if (e.id === id) {
            const newEntry = { ...e, [field]: value };
            if (field === 'carrier') newEntry.type = TYPES[value][0];
            if ((field === 'carrier' || field === 'type') && !(newEntry.carrier === 'J&T' && newEntry.type === '‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå')) {
              newEntry.imageContent = ''; newEntry.imageMimeType = ''; newEntry.imageFileName = ''; newEntry.imagePreview = null;
            }
            return newEntry;
          }
          return e;
        }));
      };

      const handleImageChange = (id, e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onloadend = () => {
            setEntries(entries.map(entry => entry.id === id ? { ...entry, imageContent: reader.result.split(',')[1], imageMimeType: file.type, imageFileName: `${date}_‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå_${file.name}`, imagePreview: reader.result } : entry));
          };
          reader.readAsDataURL(file);
        }
      };

      const submitData = async (actionType, payloadData) => {
        setIsSubmitting(true);
        const payload = { action: 'add', type: actionType, date, ...payloadData };

        try {
          const response = await fetch(WEB_APP_URL, {
            redirect: "follow",
            method: "POST",
            headers: { "Content-Type": "text/plain;charset=utf-8" },
            body: JSON.stringify(payload)
          });
          const result = await response.json();
          
          if (result.status === 'success') {
            // Add generated records to local state
            setRecords(prev => [...result.records, ...prev]);
            setShowSuccess(true);
            setTimeout(() => setShowSuccess(false), 3000);
            return true;
          } else {
            alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + result.message);
            return false;
          }
        } catch (error) {
          console.error("Error:", error);
          alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ");
          return false;
        } finally {
          setIsSubmitting(false);
        }
      };

      const handleDeleteRecord = async (id) => {
        if(!confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Google Sheets ‡∏î‡πâ‡∏ß‡∏¢')) return;
        
        setIsSubmitting(true);
        try {
          const response = await fetch(WEB_APP_URL, {
            redirect: "follow", method: "POST", headers: { "Content-Type": "text/plain;charset=utf-8" },
            body: JSON.stringify({ action: 'delete', id })
          });
          const result = await response.json();
          if (result.status === 'success') {
            setRecords(prev => prev.filter(r => r.id !== id));
          } else {
            alert("‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: " + result.message);
          }
        } catch (error) {
          alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠");
        } finally {
          setIsSubmitting(false);
        }
      };

      // Handle independent submits
      const submitPrint = async (e) => {
        e.preventDefault();
        const success = await submitData('print', {
          spx: Number(printed.SPX) || 0, jt: Number(printed.JT) || 0, flash: Number(printed.FLASH) || 0, tlp: Number(printed.TLP) || 0
        });
        if(success) setPrinted({ SPX: '', JT: '', FLASH: '', TLP: '' });
      };

      const submitShip = async (e) => {
        e.preventDefault();
        const missingImages = entries.some(e => e.carrier === 'J&T' && e.type === '‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå' && Number(e.shipped) > 0 && !e.imageContent);
        if (missingImages) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏•‡∏¥‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö '‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå' ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
        
        const success = await submitData('ship', {
          entries: entries.map(e => ({
            carrier: e.carrier, type: e.type, shipped: Number(e.shipped) || 0, cancelled: Number(e.cancelled) || 0, returned: Number(e.returned) || 0,
            imageContent: e.imageContent, imageMimeType: e.imageMimeType, imageFileName: e.imageFileName
          }))
        });
        if(success) setEntries([{ id: Date.now(), carrier: 'SPX', type: 'Pick-Up', shipped: '', cancelled: '', returned: '', imageContent: '', imageMimeType: '', imageFileName: '', imagePreview: null }]);
      };

      const submitJtSum = async (e) => {
        e.preventDefault();
        const success = await submitData('jtsum', { jtSummary: Number(jtSummary) || 0 });
        if(success) setJtSummary('');
      };

      // --- Dashboard Calculations ---
      const summary = useMemo(() => {
        const stats = {
          printed_total: 0, printed_spx: 0, printed_jt: 0, printed_flash: 0, printed_tlp: 0, jtSummary: 0,
          spx_pickup: 0, spx_dropoff: 0, spx_express: 0, jt_pickup: 0, jt_key: 0, jt_dropoff: 0, flash: 0, tlp: 0,
          cancelled_spx: 0, cancelled_jt: 0, cancelled_flash: 0, cancelled_tlp: 0,
          returned_spx: 0, returned_jt: 0, returned_flash: 0, returned_tlp: 0,
        };

        records.forEach(r => {
          if (r.type === 'print') {
            stats.printed_spx += r.spx; stats.printed_jt += r.jt; stats.printed_flash += r.flash; stats.printed_tlp += r.tlp;
            stats.printed_total += (r.spx + r.jt + r.flash + r.tlp);
          } else if (r.type === 'jtsum') {
            stats.jtSummary += r.jtSummary;
          } else if (r.type === 'ship') {
            if (r.carrier === 'SPX' && r.entryType === 'Pick-Up') stats.spx_pickup += r.shipped;
            if (r.carrier === 'SPX' && r.entryType === '‡πÑ‡∏õ‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏á') stats.spx_dropoff += r.shipped;
            if (r.carrier === 'SPX' && r.entryType === '‡∏™‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô!!') stats.spx_express += r.shipped;
            if (r.carrier === 'J&T' && r.entryType === 'Pick-Up') stats.jt_pickup += r.shipped;
            if (r.carrier === 'J&T' && r.entryType === '‡πÑ‡∏õ‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏á') stats.jt_dropoff += r.shipped;
            if (r.carrier === 'J&T' && r.entryType === '‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå') stats.jt_key += r.shipped;
            if (r.carrier === 'FLASH') stats.flash += r.shipped;
            if (r.carrier === 'TLP') stats.tlp += r.shipped;

            if (r.carrier === 'SPX') { stats.cancelled_spx += r.cancelled; stats.returned_spx += r.returned; }
            if (r.carrier === 'J&T') { stats.cancelled_jt += r.cancelled; stats.returned_jt += r.returned; }
            if (r.carrier === 'FLASH') { stats.cancelled_flash += r.cancelled; stats.returned_flash += r.returned; }
            if (r.carrier === 'TLP') { stats.cancelled_tlp += r.cancelled; stats.returned_tlp += r.returned; }
          }
        });
        return stats;
      }, [records]);

      const totalSpx = summary.spx_pickup + summary.spx_dropoff + summary.spx_express;
      const totalJt = summary.jt_pickup + summary.jt_key + summary.jt_dropoff;
      const totalShipped = totalSpx + totalJt + summary.flash + summary.tlp;
      const totalCancelled = summary.cancelled_spx + summary.cancelled_jt + summary.cancelled_flash + summary.cancelled_tlp;
      const totalReturned = summary.returned_spx + summary.returned_jt + summary.returned_flash + summary.returned_tlp;

      // --- Views ---
      const DateSelector = () => (
        <div className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between mb-5">
          <label className="flex items-center gap-2 text-slate-600 font-semibold text-sm">
            <Calendar size={18} className="text-blue-400" /> ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
          </label>
          <input type="date" value={date} onChange={(e) => setDate(e.target.value)} className="bg-slate-50 border border-slate-200 text-slate-700 rounded-xl px-3 py-2 outline-none focus:border-blue-400 transition-all text-sm font-medium" required />
        </div>
      );

      const SubmitBtn = ({ label }) => (
        <button disabled={isSubmitting} type="submit" className="w-full bg-blue-600 hover:bg-blue-700 active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed text-white font-bold py-4 rounded-2xl shadow-md transition-all flex items-center justify-center gap-2 text-lg mt-6">
          {isSubmitting ? <Loader2 size={24} className="animate-spin" /> : showSuccess ? <CheckCircle2 size={24} /> : <Save size={24} />}
          {isSubmitting ? '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...' : showSuccess ? '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!' : label}
        </button>
      );

      return (
        <div className="min-h-screen pb-24 md:pb-8">
          {/* Header */}
          <header className="bg-white sticky top-0 z-20 shadow-sm border-b border-slate-100">
            <div className="max-w-3xl mx-auto px-4 h-16 flex items-center justify-between">
              <div className="flex items-center gap-2">
                <div className="bg-blue-100 p-2 rounded-xl text-blue-600">
                  <PackageIcon size={24} />
                </div>
                <h1 className="font-semibold text-lg tracking-wide text-slate-800">
                  Daily <span className="text-blue-500">Log</span>
                </h1>
              </div>
            </div>
          </header>

          <main className="max-w-3xl mx-auto px-4 py-6">
            
            {/* TAB 1: PRINT */}
            {activeTab === 'print' && (
              <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                <form onSubmit={submitPrint}>
                  <div className="bg-indigo-50 border border-indigo-100 p-4 rounded-2xl mb-4">
                    <h2 className="text-indigo-700 font-bold flex items-center gap-2 mb-1"><Printer size={20} /> ‡∏¢‡∏≠‡∏î‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h2>
                    <p className="text-xs text-indigo-500">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                  </div>
                  <DateSelector />
                  <div className="grid grid-cols-2 gap-4">
                    <div className="bg-white p-4 rounded-2xl shadow-sm border border-orange-100">
                      <label className="text-sm font-bold text-orange-500 mb-2 block">SPX (‡∏Å‡∏•‡πà‡∏≠‡∏á)</label>
                      <input type="number" value={printed.SPX} onChange={(e) => handlePrintChange('SPX', e.target.value)} min="0" placeholder="0" className="w-full bg-orange-50/50 border border-orange-200 text-slate-700 rounded-xl px-3 py-3 outline-none focus:border-orange-400 transition-all text-center text-lg font-medium" />
                    </div>
                    <div className="bg-white p-4 rounded-2xl shadow-sm border border-red-100">
                      <label className="text-sm font-bold text-red-500 mb-2 block">J&T (‡∏Å‡∏•‡πà‡∏≠‡∏á)</label>
                      <input type="number" value={printed.JT} onChange={(e) => handlePrintChange('JT', e.target.value)} min="0" placeholder="0" className="w-full bg-red-50/50 border border-red-200 text-slate-700 rounded-xl px-3 py-3 outline-none focus:border-red-400 transition-all text-center text-lg font-medium" />
                    </div>
                    <div className="bg-white p-4 rounded-2xl shadow-sm border border-yellow-100">
                      <label className="text-sm font-bold text-yellow-500 mb-2 block">FLASH (‡∏Å‡∏•‡πà‡∏≠‡∏á)</label>
                      <input type="number" value={printed.FLASH} onChange={(e) => handlePrintChange('FLASH', e.target.value)} min="0" placeholder="0" className="w-full bg-yellow-50/50 border border-yellow-200 text-slate-700 rounded-xl px-3 py-3 outline-none focus:border-yellow-400 transition-all text-center text-lg font-medium" />
                    </div>
                    <div className="bg-white p-4 rounded-2xl shadow-sm border border-blue-100">
                      <label className="text-sm font-bold text-blue-500 mb-2 block">TLP (‡∏Å‡∏•‡πà‡∏≠‡∏á)</label>
                      <input type="number" value={printed.TLP} onChange={(e) => handlePrintChange('TLP', e.target.value)} min="0" placeholder="0" className="w-full bg-blue-50/50 border border-blue-200 text-slate-700 rounded-xl px-3 py-3 outline-none focus:border-blue-400 transition-all text-center text-lg font-medium" />
                    </div>
                  </div>
                  <SubmitBtn label="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡∏õ‡∏£‡∏¥‡πâ‡∏ô" />
                </form>
              </div>
            )}

            {/* TAB 2: SHIP */}
            {activeTab === 'ship' && (
              <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                <form onSubmit={submitShip}>
                  <div className="bg-emerald-50 border border-emerald-100 p-4 rounded-2xl mb-4">
                    <h2 className="text-emerald-700 font-bold flex items-center gap-2 mb-1"><Truck size={20} /> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏û‡∏±‡∏™‡∏î‡∏∏</h2>
                    <p className="text-xs text-emerald-600">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏°‡∏≤‡∏£‡∏±‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡πà‡∏á</p>
                  </div>
                  <DateSelector />
                  <div className="space-y-4">
                    {entries.map((entry) => (
                      <div key={entry.id} className={`bg-white rounded-2xl p-4 shadow-sm border-2 relative ${CARRIER_COLORS[entry.carrier].split(' ')[2]}`}>
                        <button type="button" onClick={() => removeEntry(entry.id)} className="absolute top-4 right-4 text-slate-400 hover:text-rose-500 transition-colors bg-white rounded-full p-1"><Trash2 size={18} /></button>
                        <div className="pr-10 grid grid-cols-2 gap-3 mb-4">
                          <div>
                            <label className="block text-xs font-semibold text-slate-500 mb-1">‡∏Ç‡∏ô‡∏™‡πà‡∏á</label>
                            <div className="relative">
                              <select value={entry.carrier} onChange={(e) => updateEntry(entry.id, 'carrier', e.target.value)} className={`w-full appearance-none bg-slate-50 border rounded-xl px-3 py-2 outline-none font-semibold text-sm transition-colors ${CARRIER_COLORS[entry.carrier]}`}>{CARRIERS.map(c => <option key={c} value={c}>{c}</option>)}</select>
                              <ChevronDown size={14} className="absolute right-3 top-1/2 -translate-y-1/2 opacity-50 pointer-events-none" />
                            </div>
                          </div>
                          <div>
                            <label className="block text-xs font-semibold text-slate-500 mb-1">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                            <div className="relative">
                              <select value={entry.type} onChange={(e) => updateEntry(entry.id, 'type', e.target.value)} disabled={TYPES[entry.carrier].length===1} className="w-full appearance-none bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 outline-none font-medium text-slate-700 text-sm disabled:opacity-70 disabled:bg-slate-100">{TYPES[entry.carrier].map(t => <option key={t} value={t}>{t}</option>)}</select>
                              {TYPES[entry.carrier].length>1 && <ChevronDown size={14} className="absolute right-3 top-1/2 -translate-y-1/2 opacity-50 pointer-events-none" />}
                            </div>
                          </div>
                        </div>
                        <div className="grid grid-cols-3 gap-3 bg-slate-50 p-3 rounded-xl border border-slate-100">
                          <div><label className="block text-[11px] font-semibold text-emerald-600 mb-1">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label><input type="number" value={entry.shipped} onChange={(e) => updateEntry(entry.id, 'shipped', e.target.value)} min="0" placeholder="0" className="w-full bg-white border border-slate-200 rounded-lg px-2 py-2 outline-none focus:border-emerald-400 text-center text-sm" /></div>
                          <div><label className="block text-[11px] font-semibold text-rose-500 mb-1">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</label><input type="number" value={entry.cancelled} onChange={(e) => updateEntry(entry.id, 'cancelled', e.target.value)} min="0" placeholder="0" className="w-full bg-white border border-slate-200 rounded-lg px-2 py-2 outline-none focus:border-rose-400 text-center text-sm text-rose-600" /></div>
                          <div><label className="block text-[11px] font-semibold text-orange-500 mb-1">‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö</label><input type="number" value={entry.returned} onChange={(e) => updateEntry(entry.id, 'returned', e.target.value)} min="0" placeholder="0" className="w-full bg-white border border-slate-200 rounded-lg px-2 py-2 outline-none focus:border-orange-400 text-center text-sm text-orange-600" /></div>
                        </div>
                        {entry.carrier === 'J&T' && entry.type === '‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå' && (
                          <div className="mt-3 p-3 bg-blue-50/50 rounded-xl border border-blue-100">
                            <div className="text-xs text-blue-600 font-semibold flex items-center gap-1 mb-2"><ImageIcon size={14} /> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</div>
                            {entry.imagePreview ? (
                              <div className="relative w-full h-32 rounded-lg border border-slate-200 overflow-hidden"><img src={entry.imagePreview} className="w-full h-full object-cover" /><button type="button" onClick={() => removeImage(entry.id)} className="absolute top-2 right-2 bg-white/90 p-1.5 rounded-full text-rose-500"><X size={16} /></button></div>
                            ) : (
                              <div className="relative w-full border-2 border-dashed border-blue-200 bg-white rounded-lg p-3 text-center cursor-pointer" onClick={() => document.getElementById(`file-${entry.id}`).click()}><UploadCloud className="mx-auto text-blue-400 mb-1" size={20} /><span className="text-[11px] text-blue-500 font-medium">‡πÅ‡∏ï‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</span><input type="file" id={`file-${entry.id}`} onChange={(e) => handleImageChange(entry.id, e)} accept="image/*" className="hidden" /></div>
                            )}
                          </div>
                        )}
                      </div>
                    ))}
                    <button type="button" onClick={addEntry} className="w-full py-4 rounded-2xl border-2 border-dashed border-slate-300 text-slate-500 font-medium hover:bg-slate-50 transition-all flex justify-center gap-2 text-sm"><Plus size={18} /> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
                  </div>
                  <SubmitBtn label="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏±‡∏î‡∏™‡πà‡∏á" />
                </form>
              </div>
            )}

            {/* TAB 3: JT SUM */}
            {activeTab === 'jtsum' && (
              <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                <form onSubmit={submitJtSum}>
                  <div className="bg-red-50 border border-red-100 p-4 rounded-2xl mb-4">
                    <h2 className="text-red-700 font-bold flex items-center gap-2 mb-1"><ClipboardCheck size={20} /> ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î (J&T)</h2>
                    <p className="text-xs text-red-500">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ô‡∏à‡∏ö‡∏ß‡∏±‡∏ô</p>
                  </div>
                  <DateSelector />
                  <div className="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                    <label className="block text-center mb-4 text-slate-700 font-bold text-lg">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° J&T ‡∏à‡∏≤‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                    <div className="relative max-w-xs mx-auto">
                      <input type="number" value={jtSummary} onChange={(e) => setJtSummary(e.target.value)} placeholder="0" className="w-full bg-slate-50 border border-red-200 text-red-600 rounded-2xl px-4 py-4 outline-none focus:ring-4 focus:ring-red-50 transition-all text-center text-3xl font-bold" min="0" />
                      <span className="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-medium">‡∏Å‡∏•‡πà‡∏≠‡∏á</span>
                    </div>
                  </div>
                  <SubmitBtn label="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡∏™‡∏£‡∏∏‡∏õ" />
                </form>
              </div>
            )}

            {/* TAB 4: HISTORY & IMAGES */}
            {activeTab === 'history' && (
              <div className="animate-in fade-in slide-in-from-bottom-4 duration-300 space-y-4">
                <div className="bg-slate-800 p-4 rounded-2xl mb-4 text-white">
                  <h2 className="font-bold flex items-center gap-2 mb-1"><HistoryIcon size={20} /> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• & ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h2>
                  <p className="text-xs text-slate-300 leading-relaxed">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏´‡∏≤‡∏Å‡∏Å‡∏£‡∏≠‡∏Å‡∏ú‡∏¥‡∏î ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏¥‡πâ‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà)</p>
                </div>

                {records.length === 0 ? (
                  <div className="text-center py-10 text-slate-400"><HistoryIcon size={48} className="mx-auto mb-3 opacity-20" /><p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p></div>
                ) : (
                  records.map(record => (
                    <div key={record.id} className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-start gap-3 relative">
                      <button disabled={isSubmitting} onClick={() => handleDeleteRecord(record.id)} className="absolute top-3 right-3 text-slate-300 hover:text-rose-500 p-1"><Trash2 size={16}/></button>
                      
                      <div className="mt-1">
                        {record.type === 'print' && <div className="bg-indigo-100 text-indigo-600 p-2 rounded-lg"><Printer size={18}/></div>}
                        {record.type === 'ship' && <div className="bg-emerald-100 text-emerald-600 p-2 rounded-lg"><Truck size={18}/></div>}
                        {record.type === 'jtsum' && <div className="bg-red-100 text-red-600 p-2 rounded-lg"><ClipboardCheck size={18}/></div>}
                      </div>
                      
                      <div className="flex-1 pr-6">
                        <div className="flex items-center gap-2 mb-1">
                          <span className="text-[10px] font-bold bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full">{record.date}</span>
                          <span className="text-xs font-semibold text-slate-700">
                            {record.type === 'print' && '‡∏¢‡∏≠‡∏î‡∏õ‡∏£‡∏¥‡πâ‡∏ô'}
                            {record.type === 'ship' && `${record.carrier} (${record.entryType})`}
                            {record.type === 'jtsum' && '‡∏™‡∏£‡∏∏‡∏õ J&T'}
                          </span>
                        </div>
                        
                        <div className="text-sm text-slate-600">
                          {record.type === 'print' && `SPX: ${record.spx}, J&T: ${record.jt}, FLASH: ${record.flash}, TLP: ${record.tlp}`}
                          {record.type === 'jtsum' && `‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ${record.jtSummary} ‡∏Å‡∏•‡πà‡∏≠‡∏á`}
                          {record.type === 'ship' && (
                            <div className="flex gap-3 text-xs mt-1">
                              <span className="text-emerald-600">‡∏™‡πà‡∏á: {record.shipped}</span>
                              <span className="text-rose-500">‡πÄ‡∏•‡∏¥‡∏Å: {record.cancelled}</span>
                              <span className="text-orange-500">‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö: {record.returned}</span>
                            </div>
                          )}
                        </div>

                        {record.imageUrl && record.imageUrl !== "-" && (
                          <a href={record.imageUrl} target="_blank" className="mt-3 inline-flex items-center gap-1.5 text-xs font-semibold text-blue-600 bg-blue-50 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors">
                            <ImageIcon size={14} /> ‡∏î‡∏π‡∏™‡∏•‡∏¥‡∏õ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û <ExternalLink size={12} className="ml-1" />
                          </a>
                        )}
                      </div>
                    </div>
                  ))
                )}
              </div>
            )}

            {/* TAB 5: DASHBOARD */}
            {activeTab === 'dashboard' && (
              <div className="animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-6">
                <div className="grid grid-cols-2 gap-4">
                  <div className="col-span-2 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-3xl p-6 text-white shadow-md relative overflow-hidden">
                    <Printer size={120} className="absolute -right-6 -top-6 opacity-10" />
                    <p className="text-blue-100 font-medium mb-1">‡∏¢‡∏≠‡∏î‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                    <h2 className="text-5xl font-bold">{summary.printed_total.toLocaleString()} <span className="text-xl font-normal opacity-80">‡∏Å‡∏•‡πà‡∏≠‡∏á</span></h2>
                    <div className="mt-4 pt-3 border-t border-blue-400/30 grid grid-cols-4 gap-2 text-xs text-blue-100">
                      <div>SPX: <strong className="text-white">{summary.printed_spx}</strong></div>
                      <div>J&T: <strong className="text-white">{summary.printed_jt}</strong></div>
                      <div>FLASH: <strong className="text-white">{summary.printed_flash}</strong></div>
                      <div>TLP: <strong className="text-white">{summary.printed_tlp}</strong></div>
                    </div>
                  </div>
                  
                  <div className="bg-white p-5 rounded-3xl shadow-sm border border-slate-100"><div className="flex items-center gap-2 text-emerald-600 mb-2"><Truck size={18} /><span className="font-semibold text-sm">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</span></div><p className="text-3xl font-bold text-slate-800">{totalShipped.toLocaleString()}</p></div>
                  <div className="bg-white p-5 rounded-3xl shadow-sm border border-slate-100"><div className="flex items-center gap-2 text-rose-500 mb-2"><XCircle size={18} /><span className="font-semibold text-sm">‡∏£‡∏ß‡∏°‡πÄ‡∏•‡∏¥‡∏Å/‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö</span></div><p className="text-3xl font-bold text-slate-800">{(totalCancelled + totalReturned).toLocaleString()}</p></div>
                </div>

                <div className="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                  <h3 className="text-slate-700 font-semibold mb-6 flex items-center gap-2"><PackageIcon size={18} className="text-slate-400" /> ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á</h3>
                  <div className="space-y-6">
                    {/* SPX */}
                    <div className="pb-5 border-b border-slate-100">
                      <div className="flex justify-between text-sm mb-1.5 font-bold"><span className="text-orange-500 flex items-center gap-1.5">SPX Total</span><span className="text-slate-700">{totalSpx} ‡∏Å‡∏•‡πà‡∏≠‡∏á</span></div>
                      <div className="w-full bg-slate-100 rounded-full h-2.5 overflow-hidden mb-3"><div className="bg-orange-400 h-2.5 rounded-full" style={{ width: `${totalShipped ? (totalSpx / totalShipped) * 100 : 0}%` }}></div></div>
                      <div className="grid grid-cols-3 gap-2 text-xs text-slate-500 bg-orange-50/50 rounded-lg p-3">
                        <div>Pick-Up: <span className="font-semibold text-slate-700">{summary.spx_pickup}</span></div>
                        <div>‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏á: <span className="font-semibold text-slate-700">{summary.spx_dropoff}</span></div>
                        <div>‡∏™‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô!!: <span className="font-semibold text-orange-600">{summary.spx_express}</span></div>
                        <div className="col-span-3 grid grid-cols-2 mt-1 pt-2 border-t border-orange-100/50"><div className="text-rose-500">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å: {summary.cancelled_spx}</div><div className="text-orange-600">‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö: {summary.returned_spx}</div></div>
                      </div>
                    </div>
                    {/* J&T */}
                    <div className="pb-5 border-b border-slate-100">
                      <div className="flex justify-between text-sm mb-1.5 font-bold"><span className="text-red-500 flex items-center gap-1.5">J&T Total</span><span className="text-slate-700">{totalJt} ‡∏Å‡∏•‡πà‡∏≠‡∏á</span></div>
                      <div className="w-full bg-slate-100 rounded-full h-2.5 overflow-hidden mb-3"><div className="bg-red-400 h-2.5 rounded-full" style={{ width: `${totalShipped ? (totalJt / totalShipped) * 100 : 0}%` }}></div></div>
                      <div className="grid grid-cols-3 gap-2 text-xs text-slate-500 bg-red-50/50 rounded-lg p-3">
                        <div>Pick-Up: <span className="font-semibold text-slate-700">{summary.jt_pickup}</span></div>
                        <div>‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏á: <span className="font-semibold text-slate-700">{summary.jt_dropoff}</span></div>
                        <div className="text-blue-600">‡∏á‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå: <span className="font-semibold">{summary.jt_key}</span></div>
                        <div className="col-span-3 grid grid-cols-2 mt-1 pt-2 border-t border-red-100/50"><div className="text-rose-500">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å: {summary.cancelled_jt}</div><div className="text-orange-600">‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö: {summary.returned_jt}</div></div>
                      </div>
                    </div>
                    {/* FLASH & TLP */}
                    <div className="grid grid-cols-2 gap-4">
                      <div>
                        <div className="flex justify-between text-xs mb-1 font-bold"><span className="text-yellow-500">FLASH Total</span><span className="text-slate-700">{summary.flash} ‡∏Å‡∏•‡πà‡∏≠‡∏á</span></div>
                        <div className="w-full bg-slate-100 rounded-full h-2 overflow-hidden mb-2"><div className="bg-yellow-400 h-2 rounded-full" style={{ width: `${totalShipped ? (summary.flash / totalShipped) * 100 : 0}%` }}></div></div>
                        <div className="text-[10px] bg-yellow-50/30 rounded p-1.5"><span className="text-rose-500 mr-2">‡πÄ‡∏•‡∏¥‡∏Å: {summary.cancelled_flash}</span><span className="text-orange-600">‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö: {summary.returned_flash}</span></div>
                      </div>
                      <div>
                        <div className="flex justify-between text-xs mb-1 font-bold"><span className="text-blue-500">TLP Total</span><span className="text-slate-700">{summary.tlp} ‡∏Å‡∏•‡πà‡∏≠‡∏á</span></div>
                        <div className="w-full bg-slate-100 rounded-full h-2 overflow-hidden mb-2"><div className="bg-blue-400 h-2 rounded-full" style={{ width: `${totalShipped ? (summary.tlp / totalShipped) * 100 : 0}%` }}></div></div>
                        <div className="text-[10px] bg-blue-50/30 rounded p-1.5"><span className="text-rose-500 mr-2">‡πÄ‡∏•‡∏¥‡∏Å: {summary.cancelled_tlp}</span><span className="text-orange-600">‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö: {summary.returned_tlp}</span></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="bg-red-50 p-5 rounded-3xl border border-red-100 flex items-center justify-between">
                  <div>
                    <p className="text-red-600 font-semibold mb-1 flex items-center gap-2"><ClipboardCheck size={18} /> ‡∏¢‡∏≠‡∏î J&T ‡∏ó‡∏µ‡πà‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ</p>
                    <p className="text-xs text-red-400">‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏¢‡∏≠‡∏î J&T ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÑ‡∏õ</p>
                  </div>
                  <div className="text-right pl-4">
                    <p className="text-2xl font-bold text-red-600">{summary.jtSummary}</p>
                    <p className={`text-[11px] font-bold ${totalJt === summary.jtSummary ? 'text-emerald-500' : 'text-rose-500'}`}>
                      {totalJt === summary.jtSummary ? '‚úÖ ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô' : `‚ö†Ô∏è ‡∏´‡πà‡∏≤‡∏á: ${Math.abs(totalJt - summary.jtSummary)}`}
                    </p>
                  </div>
                </div>
              </div>
            )}
          </main>

          {/* Bottom Navigation */}
          <nav className="fixed bottom-0 left-0 w-full bg-white border-t border-slate-100 pb-safe z-50">
            <div className="flex max-w-3xl mx-auto px-1">
              <button onClick={() => setActiveTab('print')} className={`flex-1 flex flex-col items-center justify-center py-2.5 gap-1 transition-colors ${activeTab === 'print' ? 'text-indigo-600' : 'text-slate-400 hover:text-slate-600'}`}>
                <Printer size={20} strokeWidth={activeTab === 'print' ? 2.5 : 2} /><span className="text-[9px] font-bold">‡∏õ‡∏£‡∏¥‡πâ‡∏ô</span>
              </button>
              <button onClick={() => setActiveTab('ship')} className={`flex-1 flex flex-col items-center justify-center py-2.5 gap-1 transition-colors ${activeTab === 'ship' ? 'text-emerald-600' : 'text-slate-400 hover:text-slate-600'}`}>
                <Truck size={20} strokeWidth={activeTab === 'ship' ? 2.5 : 2} /><span className="text-[9px] font-bold">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</span>
              </button>
              <button onClick={() => setActiveTab('jtsum')} className={`flex-1 flex flex-col items-center justify-center py-2.5 gap-1 transition-colors ${activeTab === 'jtsum' ? 'text-red-500' : 'text-slate-400 hover:text-slate-600'}`}>
                <ClipboardCheck size={20} strokeWidth={activeTab === 'jtsum' ? 2.5 : 2} /><span className="text-[9px] font-bold">‡∏™‡∏£‡∏∏‡∏õ J&T</span>
              </button>
              <button onClick={() => setActiveTab('history')} className={`flex-1 flex flex-col items-center justify-center py-2.5 gap-1 transition-colors ${activeTab === 'history' ? 'text-slate-800' : 'text-slate-400 hover:text-slate-600'}`}>
                <HistoryIcon size={20} strokeWidth={activeTab === 'history' ? 2.5 : 2} /><span className="text-[9px] font-bold">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•/‡∏£‡∏π‡∏õ</span>
              </button>
              <button onClick={() => setActiveTab('dashboard')} className={`flex-1 flex flex-col items-center justify-center py-2.5 gap-1 transition-colors ${activeTab === 'dashboard' ? 'text-blue-600' : 'text-slate-400 hover:text-slate-600'}`}>
                <LayoutDashboard size={20} strokeWidth={activeTab === 'dashboard' ? 2.5 : 2} /><span className="text-[9px] font-bold">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</span>
              </button>
            </div>
          </nav>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
